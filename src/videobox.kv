#:kivy 2.1.0

# Root widget for the VideoboxApp class
Videobox:
    orientation: "vertical"
    # Toolbar 
    BoxLayout:
        size_hint: 1, None
        padding: 5
        Button:
            text: "Sync Now"
            size_hint: None, None
            on_press: app.start_sync()

        # Button:
        #     text: "Sync Now"
        #     size_hint: None, None
        #     on_press: app.start_sync()

        # Button:
        #     text: "Sync Now"
        #     size_hint: None, None
        #     on_press: app.start_sync()

    # PageLayout:
    #     id: home_nav
    #     border: 0
    ScrollView:
        canvas.before:
            Color:
                rgba: 1, .1, .1, .8
            Line:
                width: 1
                rectangle: self.x, self.y, self.width, self.height 
        do_scroll_x: False
        size_hint_y: 1
        Home:

<Welcome@Label>:
    text: "Videobox is starting..."
    font_size: 21

<Home>: 
    # Bound children
    featured_grid: featured
    # new_grid: new
    # running_grid: running

    orientation: "vertical"
    size_hint_y: None
    height: self.minimum_height

    GridLayout:
        id: featured
        cols: 6
        rows: 2
        row_default_height: 250
        spacing: 10
        height: self.minimum_height
        canvas.before:
            Color:
                rgba: .1, 1, 1, 1
            Line:
                width: 1
                rectangle: self.x, self.y, self.width, self.height        
    # GridLayout:
    #     id: new
    #     cols: 6
    #     spacing: 10
    #     #size_hint_y: 0.33
    #     canvas.before:
    #         Color:
    #             rgba: 1, .1, .1, 1
    #         Line:
    #             width: 1
    #             rectangle: self.x, self.y, self.width, self.height           
    # GridLayout:
    #     id: running
    #     cols: 6
    #     spacing: 10
    #     #size_hint_y: 0.33
    #     canvas.before:
    #         Color:
    #             rgba: .1, .1, 1, 1
    #         Line:
    #             width: 1
    #             rectangle: self.x, self.y, self.width, self.height   

<SeriesThumbnail>:
    spacing: 10
    orientation: "vertical"
    # canvas.before:
    #     Color:
    #         rgba: .1, .1, 1, 1
    #     Line:
    #         width: 1
    #         rectangle: self.x, self.y, self.width, self.height

    Imagebutton:
        source: root.poster_url
        #on_press: app.dispatch_children('on_show_series', root.id)        
        height: 200
        size_hint: 1, None
        # canvas.before:
        #     Color:
        #         rgba: 1, .1, .1, 1
        #     Line:
        #         width: 1
        #         rectangle: self.x, self.y, self.width, self.height        
    Label:
        #text: f"{root.label} â€¢ {root.id}"
        text: f"{root.label}"
        height: self.texture_size[1] # Set height exactly to rendered text size
        size_hint_y: None

<SeriesDetail>:
    AsyncImage:
        source: root.poster_url
        size_hint_max: 300, None
    BoxLayout:
        orientation: "vertical"
        padding: 10
        Label:
            text: root.network
            font_size: 13
        Label:
            text: root.name
            font_size: 21
            bold: True 
        Label:
            text: root.overview
            text_size: self.width, None            
            size_hint: 1, None

